import{e as x}from"../chunks/index.93323930.js";import{s as ee,c as Z,n as G,o as te}from"../chunks/scheduler.7c4769d9.js";import{S as le,i as se,g as w,m as C,s as S,h as b,j as L,n as j,f as d,c as T,x as K,k as p,a as D,y as a,o as M}from"../chunks/index.40695441.js";function oe({params:o}){if(o.videoId||o.playlistId)return{playlistId:o.playlistId,videoId:o.videoId};throw x(404,"Not found")}const pe=Object.freeze(Object.defineProperty({__proto__:null,load:oe},Symbol.toStringTag,{value:"Module"}));function W(o){let e,r=o[3].snippet.title+"",i,y,u,I,m=new Date(o[3].snippet.publishedAt).toLocaleString("en-IN",o[4])+"",f,g,c,h=o[3].snippet.description+"",v,t,l;return{c(){e=w("h3"),i=C(r),y=S(),u=w("p"),I=C("Published: "),f=C(m),g=S(),c=w("p"),v=C(h),t=S(),l=w("br"),this.h()},l(s){e=b(s,"H3",{class:!0});var _=L(e);i=j(_,r),_.forEach(d),y=T(s),u=b(s,"P",{class:!0});var N=L(u);I=j(N,"Published: "),f=j(N,m),N.forEach(d),g=T(s),c=b(s,"P",{class:!0});var H=L(c);v=j(H,h),H.forEach(d),t=T(s),l=b(s,"BR",{}),this.h()},h(){p(e,"class","title svelte-kws3wk"),p(u,"class","published svelte-kws3wk"),p(c,"class","description svelte-kws3wk")},m(s,_){D(s,e,_),a(e,i),D(s,y,_),D(s,u,_),a(u,I),a(u,f),D(s,g,_),D(s,c,_),a(c,v),D(s,t,_),D(s,l,_)},p(s,_){_&8&&r!==(r=s[3].snippet.title+"")&&M(i,r),_&8&&m!==(m=new Date(s[3].snippet.publishedAt).toLocaleString("en-IN",s[4])+"")&&M(f,m),_&8&&h!==(h=s[3].snippet.description+"")&&M(v,h)},d(s){s&&(d(e),d(y),d(u),d(g),d(c),d(t),d(l))}}}function Q(o){let e,r=o[2].snippet.title+"",i,y,u,I,m=new Date(o[2].snippet.publishedAt).toLocaleString("en-IN",o[4])+"",f,g,c,h=o[2].snippet.description+"",v;return{c(){e=w("h3"),i=C(r),y=S(),u=w("p"),I=C("Published: "),f=C(m),g=S(),c=w("p"),v=C(h),this.h()},l(t){e=b(t,"H3",{class:!0});var l=L(e);i=j(l,r),l.forEach(d),y=T(t),u=b(t,"P",{class:!0});var s=L(u);I=j(s,"Published: "),f=j(s,m),s.forEach(d),g=T(t),c=b(t,"P",{class:!0});var _=L(c);v=j(_,h),_.forEach(d),this.h()},h(){p(e,"class","title svelte-kws3wk"),p(u,"class","published svelte-kws3wk"),p(c,"class","description svelte-kws3wk")},m(t,l){D(t,e,l),a(e,i),D(t,y,l),D(t,u,l),a(u,I),a(u,f),D(t,g,l),D(t,c,l),a(c,v)},p(t,l){l&4&&r!==(r=t[2].snippet.title+"")&&M(i,r),l&4&&m!==(m=new Date(t[2].snippet.publishedAt).toLocaleString("en-IN",t[4])+"")&&M(f,m),l&4&&h!==(h=t[2].snippet.description+"")&&M(v,h)},d(t){t&&(d(e),d(y),d(u),d(g),d(c))}}}function ie(o){let e,r,i,y,u,I,m,f,g='<button class="back svelte-kws3wk">MAIN CHANNEL</button>',c,h,v,t="PLAYLIST",l,s,_,N,H,Y,P,B,U,F,V,q,z,O,k=o[3]&&W(o),A=o[2]&&Q(o);return{c(){e=w("div"),r=w("a"),i=w("button"),y=C("AUTO PLAY ("),u=C(o[1]),I=C(")"),m=S(),f=w("a"),f.innerHTML=g,c=S(),h=w("a"),v=w("button"),v.textContent=t,s=S(),_=w("br"),N=S(),H=w("br"),Y=S(),P=w("iframe"),U=S(),F=w("br"),V=S(),q=w("br"),z=S(),k&&k.c(),O=S(),A&&A.c(),this.h()},l(E){e=b(E,"DIV",{class:!0});var n=L(e);r=b(n,"A",{href:!0,target:!0});var $=L(r);i=b($,"BUTTON",{class:!0});var R=L(i);y=j(R,"AUTO PLAY ("),u=j(R,o[1]),I=j(R,")"),R.forEach(d),$.forEach(d),m=T(n),f=b(n,"A",{href:!0,target:!0,"data-svelte-h":!0}),K(f)!=="svelte-nd6k75"&&(f.innerHTML=g),c=T(n),h=b(n,"A",{href:!0,target:!0});var J=L(h);v=b(J,"BUTTON",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-1yinnci"&&(v.textContent=t),J.forEach(d),s=T(n),_=b(n,"BR",{}),N=T(n),H=b(n,"BR",{}),Y=T(n),P=b(n,"IFRAME",{width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0});var X=L(P);X.forEach(d),U=T(n),F=b(n,"BR",{}),V=T(n),q=b(n,"BR",{}),z=T(n),k&&k.l(n),O=T(n),A&&A.l(n),n.forEach(d),this.h()},h(){p(i,"class","auto-play svelte-kws3wk"),p(r,"href","#"),p(r,"target","_self"),p(f,"href","/"),p(f,"target","_self"),p(v,"class","back svelte-kws3wk"),p(h,"href",l=`/playlists/${o[0].playlistId}`),p(h,"target","_self"),p(P,"width","900"),p(P,"height","500"),Z(P.src,B=`https://www.youtube.com/embed/${o[0].videoId}?autoplay=1`)||p(P,"src",B),p(P,"title","YouTube video player"),p(P,"frameborder","0"),p(P,"allow","accelerometer; autoplay; encrypted-media; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),P.allowFullscreen=!0,p(e,"class","container svelte-kws3wk")},m(E,n){D(E,e,n),a(e,r),a(r,i),a(i,y),a(i,u),a(i,I),a(e,m),a(e,f),a(e,c),a(e,h),a(h,v),a(e,s),a(e,_),a(e,N),a(e,H),a(e,Y),a(e,P),a(e,U),a(e,F),a(e,V),a(e,q),a(e,z),k&&k.m(e,null),a(e,O),A&&A.m(e,null)},p(E,[n]){n&2&&M(u,E[1]),n&1&&l!==(l=`/playlists/${E[0].playlistId}`)&&p(h,"href",l),n&1&&!Z(P.src,B=`https://www.youtube.com/embed/${E[0].videoId}?autoplay=1`)&&p(P,"src",B),E[3]?k?k.p(E,n):(k=W(E),k.c(),k.m(e,O)):k&&(k.d(1),k=null),E[2]?A?A.p(E,n):(A=Q(E),A.c(),A.m(e,null)):A&&(A.d(1),A=null)},i:G,o:G,d(E){E&&d(e),k&&k.d(),A&&A.d()}}}const ae="AIzaSyCmD-wH1cpFeoG-9ZDrqZJUzeLILtWyJIM";function ne(o){if(!/^PT(\d+H)?(\d+M)?(\d+S)?$/.test(o))throw new Error("Invalid YouTube duration format");const e=o.match(/(\d+)H/)||[],r=o.match(/(\d+)M/)||[],i=o.match(/(\d+)S/)||[];return(parseInt(e[1])||0)*3600+(parseInt(r[1])||0)*60+(parseInt(i[1])||0)}function re(o,e,r){let{data:i}=e;console.log("data.videoId",i.videoId);const y=i.videoId;let u=null,I=null,m=null,f=null,g=null,c=null;const h={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};return te(()=>{setInterval(()=>{r(1,I=I-1)},1e3);async function v(){try{const l=await(await fetch(`https://www.googleapis.com/youtube/v3/videos?id=${y}&key=${ae}&part=snippet%2C%20contentDetails%2C%20statistics%2C%20player%2C%20topicDetails`)).json();console.log("getVideoInfo",l),l.items&&l.items.length>0&&(r(2,f=l.items[0]),u=l.items[0].contentDetails.duration,r(1,I=ne(u)),setTimeout(()=>{c=(c+1)%m.length;const s=m[c].snippet.resourceId.videoId;window.location.href=`/playlists/${i.playlistId}/${s}`},(I+5)*1e3),console.log("video",f))}catch(t){console.error("Failed to retrieve video information.",t)}}v(),fetch("/data/playlists.json").then(t=>t.json()).then(t=>{console.log("playlists.json",t),r(3,g=t.find(l=>l.id===i.playlistId)),console.log("playlist",g)}).catch(t=>(console.log(t),[])),console.log("/playlists/[playlistId]",i.playlistId),fetch(`/data/playlists/${i.playlistId}.json`).then(t=>t.json()).then(t=>{console.log(`${i.playlistId}.json`,t),m=t,c=m.findIndex(l=>l.snippet.resourceId.videoId===i.videoId)}).catch(t=>(console.log(t),[]))}),o.$$set=v=>{"data"in v&&r(0,i=v.data)},[i,I,f,g,h]}class fe extends le{constructor(e){super(),se(this,e,re,ie,ee,{data:0})}}export{fe as component,pe as universal};
